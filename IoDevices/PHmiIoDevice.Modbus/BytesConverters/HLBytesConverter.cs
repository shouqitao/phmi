using System.Collections.Generic;

namespace PHmiIoDevice.Modbus.BytesConverters {
    internal class HLBytesConverter : IBytesToRegistersBytesConverter {
        public byte[] GetBytes(IList<byte> message, int startIndex, int registersCount) {
            int bytesCount = registersCount * 2;
            var bytes = new byte[bytesCount];
            for (var i = 0; i < bytesCount; i += 2) {
                int messageIndex = startIndex + i;
                bytes[i] = message[messageIndex + 1];
                bytes[i + 1] = message[messageIndex];
            }

            return bytes;
        }
    }
}